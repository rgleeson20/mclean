import{o as T}from"./chunk-H4JHHB3K.js";import{a as j,b as E,c as F}from"./chunk-NTTZJ2VZ.js";import{d as b,e as w}from"./chunk-54IEOG6B.js";import{Eb as p,Fb as g,Gb as x,Hb as M,Jb as O,Pa as C,Qa as P,Ua as n,Va as s,Y as v,ec as y,fc as I,g as h,gc as S,ha as u,ib as d,kb as c,pb as r,qb as o,rb as l,t as _,wb as m}from"./chunk-DEOVYRJ6.js";var z=(()=>{class t{constructor(){}getProject(e){return E.allProjects.find(i=>i.id===e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function R(t,a){if(t&1&&(r(0,"p"),p(1),o()),t&2){let e=m(2);n(),g(e.project.paragraph2)}}function $(t,a){if(t&1&&(r(0,"p"),p(1),o()),t&2){let e=m(2);n(),g(e.project.paragraph3)}}function k(t,a){if(t&1&&(r(0,"div",8),l(1,"iframe",9),o()),t&2){let e=a.$implicit,i=m(2);n(),c("src",i.safeVideoUrls.get(e.title),P)("title",e.title)}}function B(t,a){if(t&1&&(r(0,"div",10),l(1,"img",11),o()),t&2){let e=a.$implicit;n(),c("src",e.src,C)("alt",e.alt)}}function N(t,a){if(t&1&&(r(0,"div",1)(1,"div",2)(2,"h1"),p(3),o(),r(4,"p")(5,"small"),p(6),o()()(),l(7,"mat-divider"),r(8,"div",3)(9,"p"),p(10),o(),d(11,R,2,1,"p",4)(12,$,2,1,"p",4),o(),r(13,"div",5),d(14,k,2,2,"div",6)(15,B,2,2,"div",7),o()()),t&2){let e=m();n(3),x(" ",e.project.title," "),n(3),M("",e.project.yearWorkedOn," | ",e.project.location,""),n(4),g(e.project.paragraph1),n(),c("ngIf",e.project.paragraph2),n(),c("ngIf",e.project.paragraph3),n(2),c("ngForOf",e.videos),n(),c("ngForOf",e.images)}}var Q=(()=>{class t{constructor(e,i,f,D){this.activatedRoute=e,this.projectService=i,this.mediaService=f,this.sanitizer=D,this.project=void 0,this.images=[],this.videos=[],this.safeVideoUrls=new Map,this.mediaItems=[],this.projectSub=h.EMPTY}ngOnInit(){let e=this.activatedRoute.params.pipe(_(i=>i.projectId));this.projectSub=e.subscribe(i=>{this.setProject(i)})}ngOnDestroy(){this.projectSub&&this.projectSub.unsubscribe()}setProject(e){this.project=this.projectService.getProject(e),this.project&&(this.mediaItems=this.mediaService.listMediaItemsForProject(this.project.id),this.separateMediaItemsByType(this.mediaItems))}separateMediaItemsByType(e){this.images=e.filter(i=>i.type===j.Image),this.videos=e.filter(i=>i.type===j.Vimeo),this.setSafeVideoUrls(this.videos)}setSafeVideoUrls(e){e.forEach(i=>{this.safeVideoUrls.set(i.title,this.sanitizer.bypassSecurityTrustResourceUrl(i.src))})}static{this.\u0275fac=function(i){return new(i||t)(s(w),s(z),s(F),s(b))}}static{this.\u0275cmp=u({type:t,selectors:[["app-project"]],standalone:!0,features:[O],decls:1,vars:1,consts:[["class","project-container",4,"ngIf"],[1,"project-container"],[1,"project-header"],[1,"project-description"],[4,"ngIf"],[1,"project-items"],["class","iframe-container",4,"ngFor","ngForOf"],["class","project-image",4,"ngFor","ngForOf"],[1,"iframe-container"],["frameborder","0","allow","autoplay; fullscreen; picture-in-picture",1,"iframe",3,"src","title"],[1,"project-image"],[3,"src","alt"]],template:function(i,f){i&1&&d(0,N,16,8,"div",0),i&2&&c("ngIf",f.project)},dependencies:[S,y,I,T],styles:[".project-container[_ngcontent-%COMP%]{padding:2rem;max-width:1440px;margin:auto}.project-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.project-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;text-align:center}.project-container[_ngcontent-%COMP%]   .project-description[_ngcontent-%COMP%]{line-height:1.6}.project-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1rem 0;line-height:1.6}.project-container[_ngcontent-%COMP%]   p.small[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.project-container[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{margin:1rem 0}.project-container[_ngcontent-%COMP%]   .project-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;margin:1rem 0;gap:1rem}.project-container[_ngcontent-%COMP%]   .project-items[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;max-width:1000px}.project-container[_ngcontent-%COMP%]   .project-items[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:5px}.project-container[_ngcontent-%COMP%]   .project-items[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{position:relative;overflow:hidden;padding-top:56.25%;width:100%;max-width:1000px}.project-container[_ngcontent-%COMP%]   .project-items[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]   .iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}@media (max-width: 768px){.project-container[_ngcontent-%COMP%]{padding:1rem}h2[_ngcontent-%COMP%]{font-size:2rem}}"],changeDetection:0})}}return t})();export{Q as ProjectComponent};
