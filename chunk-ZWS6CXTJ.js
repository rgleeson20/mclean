import{z}from"./chunk-W3LOIZH7.js";import{a as h,b as F,c as T}from"./chunk-X5XDUNQD.js";import{a as E}from"./chunk-2YA4WING.js";import{e as w}from"./chunk-H33WAMU5.js";import{$b as I,Cb as s,Db as f,Eb as M,Fb as O,Hb as y,Ja as x,Ka as P,Sa as o,Ta as m,V as u,ac as S,bc as b,ca as C,d as _,db as l,fb as p,kb as a,lb as c,mb as g,q as v,tb as d}from"./chunk-7JE5ULPF.js";var D=(()=>{let t=class t{constructor(){}getProject(r){return F.allProjects.find(i=>i.id===r)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function $(e,t){if(e&1&&(a(0,"p"),s(1),c()),e&2){let n=d(2);o(),f(n.project.paragraph2)}}function k(e,t){if(e&1&&(a(0,"p"),s(1),c()),e&2){let n=d(2);o(),f(n.project.paragraph3)}}function B(e,t){if(e&1&&(a(0,"div",8),g(1,"iframe",9),c()),e&2){let n=t.$implicit,r=d(2);o(),p("src",r.safeVideoUrls.get(n.title),P)("title",n.title)}}function N(e,t){if(e&1&&(a(0,"div",10),g(1,"img",11),c()),e&2){let n=t.$implicit;o(),p("src",n.src,x)("alt",n.alt)}}function A(e,t){if(e&1&&(a(0,"div",1)(1,"div",2)(2,"h1"),s(3),c(),a(4,"p")(5,"small"),s(6),c()()(),g(7,"mat-divider"),a(8,"div",3)(9,"p"),s(10),c(),l(11,$,2,1,"p",4)(12,k,2,1,"p",4),c(),a(13,"div",5),l(14,B,2,2,"div",6)(15,N,2,2,"div",7),c()()),e&2){let n=d();o(3),M(" ",n.project.title," "),o(3),O("",n.project.yearWorkedOn," | ",n.project.location,""),o(4),f(n.project.paragraph1),o(),p("ngIf",n.project.paragraph2),o(),p("ngIf",n.project.paragraph3),o(2),p("ngForOf",n.videos),o(),p("ngForOf",n.images)}}var X=(()=>{let t=class t{constructor(r,i,j,U){this.activatedRoute=r,this.projectService=i,this.mediaService=j,this.sanitizer=U,this.project=void 0,this.images=[],this.videos=[],this.safeVideoUrls=new Map,this.mediaItems=[],this.projectSub=_.EMPTY}ngOnInit(){let r=this.activatedRoute.params.pipe(v(i=>i.projectId));this.projectSub=r.subscribe(i=>{this.setProject(i)})}ngOnDestroy(){this.projectSub&&this.projectSub.unsubscribe()}setProject(r){this.project=this.projectService.getProject(r),this.project&&(this.mediaItems=this.mediaService.listMediaItemsForProject(this.project.id),this.separateMediaItemsByType(this.mediaItems))}separateMediaItemsByType(r){this.images=r.filter(i=>i.type===h.Image),this.videos=r.filter(i=>i.type===h.Vimeo),this.setSafeVideoUrls(this.videos)}setSafeVideoUrls(r){r.forEach(i=>{this.safeVideoUrls.set(i.title,this.sanitizer.bypassSecurityTrustResourceUrl(i.src))})}};t.\u0275fac=function(i){return new(i||t)(m(E),m(D),m(T),m(w))},t.\u0275cmp=C({type:t,selectors:[["app-project"]],standalone:!0,features:[y],decls:1,vars:1,consts:[["class","project-container",4,"ngIf"],[1,"project-container"],[1,"project-header"],[1,"project-description"],[4,"ngIf"],[1,"project-items"],["class","iframe-container",4,"ngFor","ngForOf"],["class","project-image",4,"ngFor","ngForOf"],[1,"iframe-container"],["frameborder","0","allow","autoplay; fullscreen; picture-in-picture",1,"iframe",3,"src","title"],[1,"project-image"],[3,"src","alt"]],template:function(i,j){i&1&&l(0,A,16,8,"div",0),i&2&&p("ngIf",j.project)},dependencies:[b,I,S,z],styles:[".project-container[_ngcontent-%COMP%]{padding:2rem;max-width:1440px;margin:auto}.project-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.project-container[_ngcontent-%COMP%]   .project-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;text-align:center}.project-container[_ngcontent-%COMP%]   .project-description[_ngcontent-%COMP%]{line-height:1.6}.project-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1rem 0;line-height:1.6}.project-container[_ngcontent-%COMP%]   p.small[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.project-container[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{margin:1rem 0}.project-container[_ngcontent-%COMP%]   .project-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;margin:1rem 0;gap:1rem}.project-container[_ngcontent-%COMP%]   .project-items[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;max-width:1000px}.project-container[_ngcontent-%COMP%]   .project-items[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:5px}.project-container[_ngcontent-%COMP%]   .project-items[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]{position:relative;overflow:hidden;padding-top:56.25%;width:100%;max-width:1000px}.project-container[_ngcontent-%COMP%]   .project-items[_ngcontent-%COMP%]   .iframe-container[_ngcontent-%COMP%]   .iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}@media (max-width: 768px){.project-container[_ngcontent-%COMP%]{padding:1rem}h2[_ngcontent-%COMP%]{font-size:2rem}}"],changeDetection:0});let e=t;return e})();export{X as ProjectComponent};
